# TradeCraft Backend Environment Variables

# ========================================================
# 1. CORE INFRASTRUCTURE (Supabase & Database)
# ========================================================
# Your Supabase Project URL (from Project Settings > API)
SUPABASE_URL=https://fwcymroezmjppgteqdgu.supabase.co

# Your Supabase Anon/Public Key (from Project Settings > API)
SUPABASE_KEY=sb_publishable_59dYumiSH6X0vf0JHftWgw_vZwILIUA

# Your Supabase Service Role Key (from Project Settings > API)
# CRITICAL: This bypasses RLS - keep secret!
SUPABASE_SERVICE_KEY=sb_secret_QLExjLw2jIJrZX5iqevCNg_NFwfjGer

# ========================================================
# 2. AI SERVICES (OpenAI & Embeddings)
# ========================================================
# OpenAI API Key (for GPT-4 match explanations and assistant)
OPENAI_API_KEY=sk-your_openai_api_key

# OpenRouter API Key (required by config, even if using local embeddings)
OPENROUTER_API_KEY=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

# Embedding Configuration
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384

# AI constraints
MAX_CODE_LINES=20
MAX_EXPLANATION_LENGTH=1000

# ========================================================
# 3. SECURITY & AUTHENTICATION
# ========================================================
# Secret key for cryptographic signing (generate with: openssl rand -hex 32)
SECRET_KEY=generate_a_strong_random_hex_string

# JWT Algorithm (Default: HS256)
ALGORITHM=HS256

# Token Expiration (in minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ========================================================
# 4. SERVER CONFIGURATION
# ========================================================
# APP Environment: development | production
APP_ENV=development

# Server Host and Port
APP_HOST=0.0.0.0
APP_PORT=8000

# CORS Allowed Origins (Comma separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Rate Limiting (Requests per Window)
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# ========================================================
# 5. MATCHING ALGORITHM WEIGHTS (Must sum to ~1.0)
# ========================================================
# Importance of semantic similarity (teach <-> learn embeddings)
WEIGHT_SEMANTIC=0.50

# Importance of level compatibility (reciprocity)
WEIGHT_RECIPROCITY=0.25

# Importance of schedule overlap
WEIGHT_AVAILABILITY=0.15

# Importance of preferences (language, etc.)
WEIGHT_PREFERENCE=0.10
